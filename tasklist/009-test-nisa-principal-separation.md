# タスク: NISA元本分離のテスト

## 概要

NISA口座の元本と評価額の分離に関する一連の変更が、正しく機能することを確認するためのテストを実装する。

## 手順

1.  **単体テスト**:
    -   `api-adapter.ts`の元本算出ロジックについて、評価損益率がプラス、マイナス、ゼロの場合のテストケースを作成する。
2.  **コンポーネントテスト**:
    -   `InvestmentSection.tsx`で、評価損益率の入力がstateに正しく反映されることをテストする。
3.  **E2Eテスト**:
    -   Playwrightなどを使用して、以下のシナリオでE2Eテストを作成する。
        1.  フォームでNISAの評価総額と評価損益率を入力する。
        2.  シミュレーションを実行する。
        3.  結果画面の資産テーブル (`AssetTable`) で、初年度のNISA額が意図した元本ベースの金額になっていることを確認する。
        4.  資産推移が元本を基準に計算されていることを（可能であれば）検証する。
